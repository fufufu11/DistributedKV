# Git 备份与日常操作指南

为了防止数据丢失并实现跨设备同步，本手册记录了 Git 的基础配置和日常使用流程。

---

## 1. 首次配置（仅需执行一次）

如果你还没有关联远程仓库（如 GitHub 或 Gitee），请按照以下步骤操作：

### 关联远程仓库
1. 在 GitHub/Gitee 上创建一个新仓库。
2. 在终端执行以下命令：
   ```bash
   # 关联远程仓库
   git remote add origin <你的仓库URL>
   
   # 设置主分支名为 main (可选，建议统一)
   git branch -M main
   ```

### 首次推送代码
```bash
# 将本地代码推送到远程仓库的 main 分支，并建立追踪关系
git push -u origin main
```

---

## 2. 日常存储操作（每次写完代码后）

当你完成了一段代码编写，想要备份到云端时，请依次运行：

```bash
# 1. 将所有改动添加到暂存区
git add .

# 2. 提交改动到本地仓库，并添加说明
git commit -m "记录你这次做了什么，例如：修复了指针Bug"

# 3. 将本地提交推送到云端
git push
```

---

## 3. 在非本地环境同步（更换电脑时）

### 在新电脑上获取代码
```bash
# 将云端整个工程下载到本地
git clone <你的仓库URL>
```

### 在已有工程获取最新更新
如果你在 A 电脑改了代码并推送了，在 B 电脑开始写之前，先执行：
```bash
# 拉取云端最新版本到本地
git pull
```

---

## 4. 进阶：如果仓库地址变了（如更名）

如果你在 GitHub/Gitee 上修改了仓库名称，或者想更换远程仓库，只需更新本地的远程地址：

```bash
# 查看当前的远程地址
git remote -v

# 修改远程地址为新的 URL
git remote set-url origin <新的仓库URL>
```

---

## 5. 分支 (Branch) 与 合并 (Merge)

如果你和别人一起开发，或者想在不破坏现有代码的情况下尝试新功能，就需要用到“分支”。

### 什么是分支？
你可以把分支想象成**平行宇宙**。
- **main 分支**：正式发布的代码（主宇宙）。
- **feature 分支**：你正在开发的新功能（平行宇宙）。你在 feature 分支写的代码，main 分支的人看不见，反之亦然。

### 常用操作
```bash
# 1. 创建并切换到一个新分支 (比如叫 feature-login)
git checkout -b feature-login

# 2. 在这个分支上正常写代码、add、commit
git add .
git commit -m "开发登录功能"

# 3. 切换回主分支
git checkout main

# 4. 把新分支的代码合并到主分支 (把平行宇宙合并回主宇宙)
git merge feature-login

# 5. 删除不再需要的分支
git branch -d feature-login
```

### 什么是合并冲突 (Conflict)？
如果两个人在两个分支里**修改了同一行代码**，Git 在合并时会“犯难”，不知道该听谁的。
- 这时 Git 会停下来，让你手动打开冲突的文件。
- 你会看到类似 `<<<<<<< HEAD` 和 `>>>>>>> feature-login` 的标记。
- 你需要删掉标记，留下正确的代码，然后重新 `add` 和 `commit`。

---

## 6. 核心注意事项

- **.gitignore**: 根目录下的 `.gitignore` 文件决定了哪些文件**不**会被上传（例如编译生成的 `.exe` 文件、临时文件夹等）。
- **提交频率**: 建议完成一个独立的小功能就提交一次，这样方便以后回溯。
- **冲突解决**: 如果你在两台电脑都改了同一行代码，`git pull` 时可能会提示冲突。这时需要手动打开文件保留正确的代码，然后再次 `add` 和 `commit`。

---

## 常用命令速查表

| 命令 | 用途 |
| :--- | :--- |
| `git status` | 查看当前哪些文件被修改了 |
| `git log` | 查看历史提交记录 |
| `git branch` | 查看当前在哪个分支 |
| `git remote -v` | 查看关联的远程仓库地址 |
